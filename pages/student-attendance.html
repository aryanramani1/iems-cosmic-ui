<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="iEMS Student Attendance - Track your attendance across all subjects">
    <title>Attendance - Student Dashboard | iEMS Cosmic UI</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/dashboard.css">
    
    <style>
        /* Additional Attendance Page Styles */
        .attendance-summary-card {
            background: linear-gradient(145deg, #ffffff, #f8fafc);
            border: 1px solid #e2e8f0;
            border-radius: 1.25rem;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }
        .attendance-summary-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 24px -8px rgba(0,0,0,0.1);
            border-color: #3b82f6;
        }
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 0.5rem;
            margin-top: 1rem;
        }
        .calendar-day {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 0.75rem;
            padding: 1rem 0.5rem;
            text-align: center;
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }
        .calendar-day:hover {
            border-color: #3b82f6;
            transform: scale(1.02);
            box-shadow: 0 4px 12px rgba(59,130,246,0.1);
        }
        .calendar-day.present {
            background: linear-gradient(145deg, #f0fdf4, #dcfce7);
            border-color: #86efac;
            color: #16a34a;
        }
        .calendar-day.absent {
            background: linear-gradient(145deg, #fef2f2, #fee2e2);
            border-color: #fca5a5;
            color: #dc2626;
        }
        .calendar-day.late {
            background: linear-gradient(145deg, #fffbeb, #fef3c7);
            border-color: #fcd34d;
            color: #d97706;
        }
        .calendar-day.holiday {
            background: linear-gradient(145deg, #f3f4f6, #e5e7eb);
            border-color: #d1d5db;
            color: #6b7280;
        }
        .day-name {
            font-size: 0.75rem;
            font-weight: 600;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 0.25rem;
        }
        .day-number {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }
        .attendance-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
            margin-left: 0.25rem;
        }
        .subject-attendance-card {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1.25rem;
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 1rem;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }
        .subject-attendance-card:hover {
            border-color: #3b82f6;
            box-shadow: 0 8px 16px -4px rgba(59,130,246,0.1);
            transform: translateX(5px);
        }
        .subject-icon {
            width: 56px;
            height: 56px;
            border-radius: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        .attendance-progress {
            width: 120px;
            height: 8px;
            background: #e2e8f0;
            border-radius: 1rem;
            overflow: hidden;
            margin: 0.5rem 0;
        }
        .progress-fill {
            height: 100%;
            border-radius: 1rem;
            transition: width 0.6s ease;
        }
        .progress-fill.excellent { background: linear-gradient(90deg, #10b981, #34d399); }
        .progress-fill.good { background: linear-gradient(90deg, #3b82f6, #60a5fa); }
        .progress-fill.warning { background: linear-gradient(90deg, #f59e0b, #fbbf24); }
        .progress-fill.danger { background: linear-gradient(90deg, #ef4444, #f87171); }
        
        .month-selector {
            display: flex;
            align-items: center;
            gap: 1rem;
            background: white;
            padding: 0.5rem;
            border-radius: 2rem;
            border: 1px solid #e2e8f0;
        }
        .month-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: none;
            background: transparent;
            color: #64748b;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .month-btn:hover {
            background: #f1f5f9;
            color: #3b82f6;
        }
        .current-month {
            font-weight: 600;
            color: #0f172a;
            min-width: 140px;
            text-align: center;
        }
        .attendance-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .stat-pill {
            background: white;
            padding: 0.75rem 1rem;
            border-radius: 2rem;
            border: 1px solid #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }
        .stat-pill i {
            font-size: 1rem;
        }
        @media (max-width: 768px) {
            .attendance-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            .calendar-grid {
                grid-template-columns: repeat(7, 1fr);
                gap: 0.25rem;
            }
            .calendar-day {
                padding: 0.75rem 0.25rem;
            }
            .day-number {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body class="dashboard-body">
    <!-- ===== STUDENT NAVBAR ===== -->
    <nav class="dashboard-navbar student-nav">
        <div class="nav-container">
            <div class="nav-left">
                <div class="nav-brand">
                    <a href="student-dashboard.html">
                        <span class="brand-icon">üéì</span>
                        <span class="brand-text">iEMS Student</span>
                    </a>
                </div>
                
                <div class="nav-menu" id="navMenu">
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="student-dashboard.html" class="nav-link">
                                <i class="fas fa-home"></i>
                                <span>Dashboard</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="student-attendance.html" class="nav-link active">
                                <i class="fas fa-calendar-check"></i>
                                <span>Attendance</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="student-marks.html" class="nav-link">
                                <i class="fas fa-chart-line"></i>
                                <span>Marks</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="student-placement.html" class="nav-link">
                                <i class="fas fa-briefcase"></i>
                                <span>Placement</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="student-profile.html" class="nav-link">
                                <i class="fas fa-user"></i>
                                <span>Profile</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="student-class.html" class="nav-link">
                                <i class="fas fa-users"></i>
                                <span>Class</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="nav-right">
                <!-- Notification Bell -->
                <div class="notification-wrapper">
                    <button class="notification-bell" id="notificationToggle">
                        <i class="fas fa-bell"></i>
                        <span class="badge">3</span>
                    </button>
                </div>
                
                <!-- EduBot Icon -->
                 <!-- EduBot -->
             <span class="edubot-icon" id="edubotToggle" title="Chat with EduBot" onclick="window.location.href='/pages/student-edubot'">
    <i class="fas fa-robot"></i>
    <span class="status-dot online"></span>
</span>
                
                <!-- User Profile Dropdown -->
                <div class="user-dropdown-wrapper">
                    <button class="user-dropdown-btn" id="userDropdownToggle">
                        <div class="user-avatar">
                            <span class="avatar-placeholder">RP</span>
                        </div>
                        <span class="user-name">Rohan</span>
                        <i class="fas fa-chevron-down dropdown-arrow"></i>
                    </button>
                    <div class="user-dropdown-menu" id="userDropdownMenu">
                        <div class="dropdown-user-info">
                            <strong>Rohan Patel</strong>
                            <span>CE101 ‚Ä¢ Sem 4</span>
                        </div>
                        <ul class="dropdown-links">
                            <li><a href="student-profile.html"><i class="fas fa-user"></i> My Profile</a></li>
                            <li><a href="#"><i class="fas fa-cog"></i> Settings</a></li>
                            <li><a href="student-edubot.html"><i class="fas fa-robot"></i> EduBot</a></li>
                            <li class="divider"></li>
                            <li><a href="../login.html" class="logout-link"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Mobile Menu Toggle -->
            <button class="mobile-toggle" id="mobileMenuToggle" aria-label="Menu">
    <span></span>
    <span></span>
    <span></span>
</button>
        </div>
    </nav>

    <!-- ===== MAIN ATTENDANCE CONTENT ===== -->
    <div class="dashboard-container">
        <!-- Header -->
        <div class="dashboard-header">
            <div class="welcome-section">
                <h1 class="welcome-title">
                    üìä Attendance Overview
                    <span class="status-dot online" style="margin-left: 0.5rem;"></span>
                </h1>
                <p class="welcome-subtitle">
                    Track your attendance across all subjects - Semester 4
                </p>
            </div>
            <div class="date-badge">
                <i class="fas fa-calendar-alt"></i>
                <span id="currentDate"></span>
            </div>
        </div>

        <!-- Quick Stats Cards -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon bg-success-light">
                    <i class="fas fa-check-circle text-success"></i>
                </div>
                <div class="stat-content">
                    <span class="stat-label">Overall Attendance</span>
                    <h3 class="stat-value">85<span class="stat-unit">%</span></h3>
                    <span class="stat-change positive">
                        <i class="fas fa-arrow-up"></i> +2% from last month
                    </span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon bg-primary-light">
                    <i class="fas fa-calendar-check text-primary"></i>
                </div>
                <div class="stat-content">
                    <span class="stat-label">Present Days</span>
                    <h3 class="stat-value">85</h3>
                    <span class="stat-change">Out of 100 days</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon bg-warning-light">
                    <i class="fas fa-clock text-warning"></i>
                </div>
                <div class="stat-content">
                    <span class="stat-label">Absent Days</span>
                    <h3 class="stat-value">12</h3>
                    <span class="stat-change">3 unexcused</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon bg-info-light">
                    <i class="fas fa-hourglass-half text-info"></i>
                </div>
                <div class="stat-content">
                    <span class="stat-label">Can Miss</span>
                    <h3 class="stat-value">2</h3>
                    <span class="stat-change">More classes</span>
                </div>
            </div>
        </div>

        <!-- Attendance Legend & Filters -->
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; flex-wrap: wrap; gap: 1rem;">
            <div style="display: flex; gap: 1.5rem; flex-wrap: wrap;">
                <span style="display: flex; align-items: center; gap: 0.5rem;">
                    <span style="display: inline-block; width: 12px; height: 12px; background: #86efac; border-radius: 2px;"></span>
                    <span style="color: #475569;">Present</span>
                </span>
                <span style="display: flex; align-items: center; gap: 0.5rem;">
                    <span style="display: inline-block; width: 12px; height: 12px; background: #fca5a5; border-radius: 2px;"></span>
                    <span style="color: #475569;">Absent</span>
                </span>
                <span style="display: flex; align-items: center; gap: 0.5rem;">
                    <span style="display: inline-block; width: 12px; height: 12px; background: #fcd34d; border-radius: 2px;"></span>
                    <span style="color: #475569;">Late</span>
                </span>
                <span style="display: flex; align-items: center; gap: 0.5rem;">
                    <span style="display: inline-block; width: 12px; height: 12px; background: #d1d5db; border-radius: 2px;"></span>
                    <span style="color: #475569;">Holiday</span>
                </span>
            </div>
            
            <!-- Month Selector -->
            <div class="month-selector">
                <button class="month-btn" id="prevMonth">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <span class="current-month" id="currentMonth">February 2026</span>
                <button class="month-btn" id="nextMonth">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>

        <!-- ===== CALENDAR VIEW ===== -->
        <div class="card" style="margin-bottom: 2rem;">
            <div class="card-header">
                <div class="card-title">
                    <i class="fas fa-calendar-alt text-primary"></i>
                    <h3>Attendance Calendar</h3>
                </div>
                <div style="display: flex; gap: 1rem;">
                    <span class="badge badge-success">85% Present</span>
                    <span class="badge badge-danger">12% Absent</span>
                </div>
            </div>
            <div class="card-body">
                <!-- Weekday Headers -->
                <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 0.5rem; margin-bottom: 0.5rem;">
                    <div style="text-align: center; font-weight: 600; color: #64748b; padding: 0.5rem;">Mon</div>
                    <div style="text-align: center; font-weight: 600; color: #64748b; padding: 0.5rem;">Tue</div>
                    <div style="text-align: center; font-weight: 600; color: #64748b; padding: 0.5rem;">Wed</div>
                    <div style="text-align: center; font-weight: 600; color: #64748b; padding: 0.5rem;">Thu</div>
                    <div style="text-align: center; font-weight: 600; color: #64748b; padding: 0.5rem;">Fri</div>
                    <div style="text-align: center; font-weight: 600; color: #64748b; padding: 0.5rem;">Sat</div>
                    <div style="text-align: center; font-weight: 600; color: #64748b; padding: 0.5rem;">Sun</div>
                </div>
                
                <!-- Calendar Grid -->
                <div class="calendar-grid">
                    <!-- Week 1 -->
                    <div class="calendar-day holiday">
                        <div class="day-name">MON</div>
                        <div class="day-number">27</div>
                        <div class="day-status">Holiday</div>
                    </div>
                    <div class="calendar-day holiday">
                        <div class="day-name">TUE</div>
                        <div class="day-number">28</div>
                        <div class="day-status">Holiday</div>
                    </div>
                    <div class="calendar-day present">
                        <div class="day-name">WED</div>
                        <div class="day-number">29</div>
                        <div class="day-status">Present</div>
                    </div>
                    <div class="calendar-day present">
                        <div class="day-name">THU</div>
                        <div class="day-number">30</div>
                        <div class="day-status">Present</div>
                    </div>
                    <div class="calendar-day present">
                        <div class="day-name">FRI</div>
                        <div class="day-number">31</div>
                        <div class="day-status">Present</div>
                    </div>
                    <div class="calendar-day holiday">
                        <div class="day-name">SAT</div>
                        <div class="day-number">1</div>
                        <div class="day-status">Holiday</div>
                    </div>
                    <div class="calendar-day holiday">
                        <div class="day-name">SUN</div>
                        <div class="day-number">2</div>
                        <div class="day-status">Holiday</div>
                    </div>
                    
                    <!-- Week 2 -->
                    <div class="calendar-day present">
                        <div class="day-name">MON</div>
                        <div class="day-number">3</div>
                        <div class="day-status">Present</div>
                    </div>
                    <div class="calendar-day present">
                        <div class="day-name">TUE</div>
                        <div class="day-number">4</div>
                        <div class="day-status">Present</div>
                    </div>
                    <div class="calendar-day present">
                        <div class="day-name">WED</div>
                        <div class="day-number">5</div>
                        <div class="day-status">Present</div>
                    </div>
                    <div class="calendar-day present">
                        <div class="day-name">THU</div>
                        <div class="day-number">6</div>
                        <div class="day-status">Present</div>
                    </div>
                    <div class="calendar-day absent">
                        <div class="day-name">FRI</div>
                        <div class="day-number">7</div>
                        <div class="day-status">Absent</div>
                    </div>
                    <div class="calendar-day holiday">
                        <div class="day-name">SAT</div>
                        <div class="day-number">8</div>
                        <div class="day-status">Holiday</div>
                    </div>
                    <div class="calendar-day holiday">
                        <div class="day-name">SUN</div>
                        <div class="day-number">9</div>
                        <div class="day-status">Holiday</div>
                    </div>
                    
                    <!-- Week 3 -->
                    <div class="calendar-day present">
                        <div class="day-name">MON</div>
                        <div class="day-number">10</div>
                        <div class="day-status">Present</div>
                    </div>
                    <div class="calendar-day present">
                        <div class="day-name">TUE</div>
                        <div class="day-number">11</div>
                        <div class="day-status">Present</div>
                    </div>
                    <div class="calendar-day present">
                        <div class="day-name">WED</div>
                        <div class="day-number">12</div>
                        <div class="day-status">Present</div>
                    </div>
                    <div class="calendar-day present">
                        <div class="day-name">THU</div>
                        <div class="day-number">13</div>
                        <div class="day-status">Present</div>
                    </div>
                    <div class="calendar-day present">
                        <div class="day-name">FRI</div>
                        <div class="day-number">14</div>
                        <div class="day-status">Present</div>
                    </div>
                    <div class="calendar-day holiday">
                        <div class="day-name">SAT</div>
                        <div class="day-number">15</div>
                        <div class="day-status">Holiday</div>
                    </div>
                    <div class="calendar-day holiday">
                        <div class="day-name">SUN</div>
                        <div class="day-number">16</div>
                        <div class="day-status">Holiday</div>
                    </div>
                    
                    <!-- Week 4 -->
                    <div class="calendar-day present">
                        <div class="day-name">MON</div>
                        <div class="day-number">17</div>
                        <div class="day-status">Present</div>
                    </div>
                    <div class="calendar-day present">
                        <div class="day-name">TUE</div>
                        <div class="day-number">18</div>
                        <div class="day-status">Present</div>
                    </div>
                    <div class="calendar-day late">
                        <div class="day-name">WED</div>
                        <div class="day-number">19</div>
                        <div class="day-status">Late</div>
                    </div>
                    <div class="calendar-day present">
                        <div class="day-name">THU</div>
                        <div class="day-number">20</div>
                        <div class="day-status">Present</div>
                    </div>
                    <div class="calendar-day absent">
                        <div class="day-name">FRI</div>
                        <div class="day-number">21</div>
                        <div class="day-status">Absent</div>
                    </div>
                    <div class="calendar-day holiday">
                        <div class="day-name">SAT</div>
                        <div class="day-number">22</div>
                        <div class="day-status">Holiday</div>
                    </div>
                    <div class="calendar-day holiday">
                        <div class="day-name">SUN</div>
                        <div class="day-number">23</div>
                        <div class="day-status">Holiday</div>
                    </div>
                    
                    <!-- Week 5 -->
                    <div class="calendar-day present">
                        <div class="day-name">MON</div>
                        <div class="day-number">24</div>
                        <div class="day-status">Present</div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-name">TUE</div>
                        <div class="day-number">25</div>
                        <div class="day-status">-</div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-name">WED</div>
                        <div class="day-number">26</div>
                        <div class="day-status">-</div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-name">THU</div>
                        <div class="day-number">27</div>
                        <div class="day-status">-</div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-name">FRI</div>
                        <div class="day-number">28</div>
                        <div class="day-status">-</div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-name">SAT</div>
                        <div class="day-number">29</div>
                        <div class="day-status">-</div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-name">SUN</div>
                        <div class="day-number">30</div>
                        <div class="day-status">-</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== SUBJECT-WISE ATTENDANCE ===== -->
        <div class="card">
            <div class="card-header">
                <div class="card-title">
                    <i class="fas fa-book-open text-primary"></i>
                    <h3>Subject-wise Attendance</h3>
                </div>
                <span class="badge badge-info">Minimum 75% required</span>
            </div>
            <div class="card-body">
                <!-- Web Development -->
                <div class="subject-attendance-card">
                    <div style="display: flex; align-items: center; gap: 1rem; flex: 1;">
                        <div class="subject-icon" style="background: #eff6ff;">
                            <i class="fab fa-react" style="color: #3b82f6;"></i>
                        </div>
                        <div>
                            <h4 style="margin-bottom: 0.25rem; font-size: 1.1rem;">Web Development</h4>
                            <div style="display: flex; align-items: center; gap: 1rem; flex-wrap: wrap;">
                                <span style="color: #64748b; font-size: 0.9rem;">
                                    <i class="fas fa-chalkboard-teacher"></i> Prof. Sharma
                                </span>
                                <span style="color: #64748b; font-size: 0.9rem;">
                                    <i class="fas fa-clock"></i> Mon/Wed/Fri
                                </span>
                            </div>
                        </div>
                    </div>
                    <div style="text-align: right; min-width: 200px;">
                        <div style="display: flex; align-items: center; justify-content: flex-end; gap: 0.5rem; margin-bottom: 0.5rem;">
                            <span style="font-size: 1.5rem; font-weight: 700; color: #10b981;">42/45</span>
                            <span style="color: #64748b;">(93%)</span>
                            <span class="badge badge-success">On Track</span>
                        </div>
                        <div class="attendance-progress">
                            <div class="progress-fill excellent" style="width: 93%;"></div>
                        </div>
                        <div style="display: flex; justify-content: flex-end; margin-top: 0.5rem;">
                            <span style="color: #64748b; font-size: 0.85rem;">
                                <i class="fas fa-shield-alt"></i> Can miss 2 more classes
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Database Systems -->
                <div class="subject-attendance-card">
                    <div style="display: flex; align-items: center; gap: 1rem; flex: 1;">
                        <div class="subject-icon" style="background: #eff6ff;">
                            <i class="fas fa-database" style="color: #3b82f6;"></i>
                        </div>
                        <div>
                            <h4 style="margin-bottom: 0.25rem; font-size: 1.1rem;">Database Systems</h4>
                            <div style="display: flex; align-items: center; gap: 1rem; flex-wrap: wrap;">
                                <span style="color: #64748b; font-size: 0.9rem;">
                                    <i class="fas fa-chalkboard-teacher"></i> Prof. Patel
                                </span>
                                <span style="color: #64748b; font-size: 0.9rem;">
                                    <i class="fas fa-clock"></i> Tue/Thu
                                </span>
                            </div>
                        </div>
                    </div>
                    <div style="text-align: right; min-width: 200px;">
                        <div style="display: flex; align-items: center; justify-content: flex-end; gap: 0.5rem; margin-bottom: 0.5rem;">
                            <span style="font-size: 1.5rem; font-weight: 700; color: #f59e0b;">28/32</span>
                            <span style="color: #64748b;">(87%)</span>
                            <span class="badge badge-success">On Track</span>
                        </div>
                        <div class="attendance-progress">
                            <div class="progress-fill good" style="width: 87%;"></div>
                        </div>
                        <div style="display: flex; justify-content: flex-end; margin-top: 0.5rem;">
                            <span style="color: #64748b; font-size: 0.85rem;">
                                <i class="fas fa-shield-alt"></i> Can miss 1 more class
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Data Structures -->
                <div class="subject-attendance-card">
                    <div style="display: flex; align-items: center; gap: 1rem; flex: 1;">
                        <div class="subject-icon" style="background: #fee2e2;">
                            <i class="fas fa-code-branch" style="color: #ef4444;"></i>
                        </div>
                        <div>
                            <h4 style="margin-bottom: 0.25rem; font-size: 1.1rem;">Data Structures</h4>
                            <div style="display: flex; align-items: center; gap: 1rem; flex-wrap: wrap;">
                                <span style="color: #64748b; font-size: 0.9rem;">
                                    <i class="fas fa-chalkboard-teacher"></i> Prof. Gupta
                                </span>
                                <span style="color: #64748b; font-size: 0.9rem;">
                                    <i class="fas fa-clock"></i> Mon/Wed
                                </span>
                            </div>
                        </div>
                    </div>
                    <div style="text-align: right; min-width: 200px;">
                        <div style="display: flex; align-items: center; justify-content: flex-end; gap: 0.5rem; margin-bottom: 0.5rem;">
                            <span style="font-size: 1.5rem; font-weight: 700; color: #ef4444;">12/18</span>
                            <span style="color: #64748b;">(67%)</span>
                            <span class="badge badge-danger">At Risk</span>
                        </div>
                        <div class="attendance-progress">
                            <div class="progress-fill danger" style="width: 67%;"></div>
                        </div>
                        <div style="display: flex; justify-content: flex-end; margin-top: 0.5rem;">
                            <span style="color: #ef4444; font-size: 0.85rem; font-weight: 500;">
                                <i class="fas fa-exclamation-triangle"></i> Need 75% to be eligible
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Operating Systems -->
                <div class="subject-attendance-card">
                    <div style="display: flex; align-items: center; gap: 1rem; flex: 1;">
                        <div class="subject-icon" style="background: #eff6ff;">
                            <i class="fas fa-terminal" style="color: #3b82f6;"></i>
                        </div>
                        <div>
                            <h4 style="margin-bottom: 0.25rem; font-size: 1.1rem;">Operating Systems</h4>
                            <div style="display: flex; align-items: center; gap: 1rem; flex-wrap: wrap;">
                                <span style="color: #64748b; font-size: 0.9rem;">
                                    <i class="fas fa-chalkboard-teacher"></i> Prof. Verma
                                </span>
                                <span style="color: #64748b; font-size: 0.9rem;">
                                    <i class="fas fa-clock"></i> Tue/Fri
                                </span>
                            </div>
                        </div>
                    </div>
                    <div style="text-align: right; min-width: 200px;">
                        <div style="display: flex; align-items: center; justify-content: flex-end; gap: 0.5rem; margin-bottom: 0.5rem;">
                            <span style="font-size: 1.5rem; font-weight: 700; color: #10b981;">22/24</span>
                            <span style="color: #64748b;">(92%)</span>
                            <span class="badge badge-success">On Track</span>
                        </div>
                        <div class="attendance-progress">
                            <div class="progress-fill excellent" style="width: 92%;"></div>
                        </div>
                        <div style="display: flex; justify-content: flex-end; margin-top: 0.5rem;">
                            <span style="color: #64748b; font-size: 0.85rem;">
                                <i class="fas fa-shield-alt"></i> Can miss 1 more class
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Computer Networks -->
                <div class="subject-attendance-card">
                    <div style="display: flex; align-items: center; gap: 1rem; flex: 1;">
                        <div class="subject-icon" style="background: #fef3c7;">
                            <i class="fas fa-network-wired" style="color: #f59e0b;"></i>
                        </div>
                        <div>
                            <h4 style="margin-bottom: 0.25rem; font-size: 1.1rem;">Computer Networks</h4>
                            <div style="display: flex; align-items: center; gap: 1rem; flex-wrap: wrap;">
                                <span style="color: #64748b; font-size: 0.9rem;">
                                    <i class="fas fa-chalkboard-teacher"></i> Prof. Mehta
                                </span>
                                <span style="color: #64748b; font-size: 0.9rem;">
                                    <i class="fas fa-clock"></i> Thu/Fri
                                </span>
                            </div>
                        </div>
                    </div>
                    <div style="text-align: right; min-width: 200px;">
                        <div style="display: flex; align-items: center; justify-content: flex-end; gap: 0.5rem; margin-bottom: 0.5rem;">
                            <span style="font-size: 1.5rem; font-weight: 700; color: #10b981;">16/18</span>
                            <span style="color: #64748b;">(89%)</span>
                            <span class="badge badge-success">On Track</span>
                        </div>
                        <div class="attendance-progress">
                            <div class="progress-fill good" style="width: 89%;"></div>
                        </div>
                        <div style="display: flex; justify-content: flex-end; margin-top: 0.5rem;">
                            <span style="color: #64748b; font-size: 0.85rem;">
                                <i class="fas fa-shield-alt"></i> Can miss 1 more class
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===== AI AGENT INSIGHT ===== -->
        <div class="card ai-card" style="margin-top: 2rem;">
            <div class="card-body">
                <div style="display: flex; align-items: center; gap: 1.5rem; flex-wrap: wrap;">
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <div style="width: 60px; height: 60px; background: #eff6ff; border-radius: 16px; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-robot" style="color: #3b82f6; font-size: 1.75rem;"></i>
                        </div>
                        <div>
                            <h4 style="margin-bottom: 0.25rem;">Attendance Guardian AI</h4>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <span class="badge badge-success">98.7% Accuracy</span>
                                <span style="color: #64748b;">‚Ä¢ Last updated: Today 9:00 AM</span>
                            </div>
                        </div>
                    </div>
                    <div style="flex: 1; padding: 1rem 1.5rem; background: #f8fafc; border-radius: 1rem;">
                        <p style="color: #0f172a; margin-bottom: 0.5rem;">
                            <i class="fas fa-exclamation-triangle" style="color: #ef4444; margin-right: 0.5rem;"></i>
                            <strong>Alert:</strong> Your attendance in <strong>Data Structures</strong> is 67%. You need 75% to be eligible for exams.
                        </p>
                        <p style="color: #475569; font-size: 0.95rem;">
                            <i class="fas fa-lightbulb" style="color: #f59e0b; margin-right: 0.5rem;"></i>
                            Recommendation: Attend next 2 classes regularly. You can still reach 75% by maintaining perfect attendance.
                        </p>
                    </div>
                    <button class="btn btn-outline" style="display: flex; align-items: center; gap: 0.5rem;">
                        <i class="fab fa-whatsapp"></i>
                        Notify Parent
                    </button>
                </div>
            </div>
        </div>

        <!-- ===== ATTENDANCE STATISTICS ===== -->
        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; margin-top: 2rem;">
            <div class="attendance-summary-card">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.5rem;">
                    <span style="color: #64748b;">This Week</span>
                    <span style="font-weight: 600; color: #0f172a;">4/5</span>
                </div>
                <div style="width: 100%; height: 6px; background: #e2e8f0; border-radius: 3px; overflow: hidden;">
                    <div style="width: 80%; height: 100%; background: #10b981; border-radius: 3px;"></div>
                </div>
                <span style="display: block; margin-top: 0.5rem; color: #10b981; font-size: 0.9rem;">80% attendance</span>
            </div>
            <div class="attendance-summary-card">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.5rem;">
                    <span style="color: #64748b;">This Month</span>
                    <span style="font-weight: 600; color: #0f172a;">18/22</span>
                </div>
                <div style="width: 100%; height: 6px; background: #e2e8f0; border-radius: 3px; overflow: hidden;">
                    <div style="width: 82%; height: 100%; background: #3b82f6; border-radius: 3px;"></div>
                </div>
                <span style="display: block; margin-top: 0.5rem; color: #3b82f6; font-size: 0.9rem;">82% attendance</span>
            </div>
            <div class="attendance-summary-card">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.5rem;">
                    <span style="color: #64748b;">This Semester</span>
                    <span style="font-weight: 600; color: #0f172a;">85/100</span>
                </div>
                <div style="width: 100%; height: 6px; background: #e2e8f0; border-radius: 3px; overflow: hidden;">
                    <div style="width: 85%; height: 100%; background: #8b5cf6; border-radius: 3px;"></div>
                </div>
                <span style="display: block; margin-top: 0.5rem; color: #8b5cf6; font-size: 0.9rem;">85% attendance</span>
            </div>
            <div class="attendance-summary-card">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.5rem;">
                    <span style="color: #64748b;">Overall</span>
                    <span style="font-weight: 600; color: #0f172a;">312/365</span>
                </div>
                <div style="width: 100%; height: 6px; background: #e2e8f0; border-radius: 3px; overflow: hidden;">
                    <div style="width: 85.5%; height: 100%; background: #f59e0b; border-radius: 3px;"></div>
                </div>
                <span style="display: block; margin-top: 0.5rem; color: #f59e0b; font-size: 0.9rem;">85.5% attendance</span>
            </div>
        </div>

        <!-- ===== LEAVE APPLICATION ===== -->
        <div style="display: flex; justify-content: flex-end; margin-top: 2rem; gap: 1rem;">
            <button class="btn btn-outline">
                <i class="fas fa-download"></i> Download Report
            </button>
            <button class="btn btn-primary">
                <i class="fas fa-paper-plane"></i> Apply for Leave
            </button>
        </div>
    </div>

    <!-- ===== EDUBOT CHAT WIDGET ===== -->
    <div class="edubot-chat-widget hidden" id="edubotChat">
        <div class="chat-header">
            <div class="bot-avatar">ü§ñ</div>
            <div class="bot-info">
                <h4>EduBot</h4>
                <span class="online-status">‚óè Online</span>
            </div>
            <button class="close-chat" id="closeEdubot">‚úï</button>
        </div>
        <div class="chat-messages" id="chatMessages">
            <div class="message bot">
                <div class="bubble">
                    <span class="bot-avatar-small">ü§ñ</span> üëã Hi Rohan! I see you're checking your attendance. Need help?
                </div>
                <span class="time">Just now</span>
            </div>
        </div>
        <div class="quick-actions">
            <button class="quick-btn" data-query="attendance">üìä Attendance</button>
            <button class="quick-btn" data-query="data-structures">‚ö†Ô∏è Data Structures</button>
            <button class="quick-btn" data-query="leave">üìù Apply Leave</button>
        </div>
        <div class="chat-input">
            <input type="text" placeholder="Ask about attendance..." id="chatInput">
            <button class="send-btn" id="sendMessage">‚û§</button>
        </div>
    </div>

    <!-- ===== FOOTER ===== -->
    <footer class="dashboard-footer">
        <div class="footer-content">
            <div class="footer-copyright">
                &copy; 2026 iEMS Cosmic UI. All rights reserved. 
                <span style="color: #3b82f6; font-weight: 600;">Team CODE REAPERS</span>
            </div>
            <div class="footer-links">
                <a href="../footer-pages/about.html">About</a>
                <a href="../footer-pages/privacy.html">Privacy</a>
                <a href="../footer-pages/terms.html">Terms</a>
                <a href="../footer-pages/contact.html">Contact</a>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <button id="backToTop" class="back-to-top">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Scripts -->
    <script src="../js/main.js"></script>
    <script src="../js/edubot.js"></script>
    <script>
        // Set current date
        document.getElementById('currentDate').textContent = new Date().toLocaleDateString('en-IN', {
            weekday: 'long',
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        });

        // Toggle Notification Dropdown
        const notificationToggle = document.getElementById('notificationToggle');
        const notificationDropdown = document.getElementById('notificationDropdown');
        
        if (notificationToggle && notificationDropdown) {
            notificationToggle.addEventListener('click', (e) => {
                e.stopPropagation();
                notificationDropdown.classList.toggle('show');
            });
            
            document.addEventListener('click', () => {
                if (notificationDropdown) notificationDropdown.classList.remove('show');
            });
        }

        // Toggle User Dropdown
        const userDropdownToggle = document.getElementById('userDropdownToggle');
        const userDropdownMenu = document.getElementById('userDropdownMenu');
        
        if (userDropdownToggle && userDropdownMenu) {
            userDropdownToggle.addEventListener('click', (e) => {
                e.stopPropagation();
                userDropdownMenu.classList.toggle('show');
            });
            
            document.addEventListener('click', () => {
                if (userDropdownMenu) userDropdownMenu.classList.remove('show');
            });
        }

        // EduBot Toggle
        const edubotToggle = document.getElementById('edubotToggle');
        const edubotChat = document.getElementById('edubotChat');
        const closeEdubot = document.getElementById('closeEdubot');
        
        if (edubotToggle && edubotChat) {
            edubotToggle.addEventListener('click', () => {
                edubotChat.classList.toggle('hidden');
            });
        }
        
        if (closeEdubot && edubotChat) {
            closeEdubot.addEventListener('click', () => {
                edubotChat.classList.add('hidden');
            });
        }

        // Back to Top
        const backToTop = document.getElementById('backToTop');
        if (backToTop) {
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 300) {
                    backToTop.classList.add('show');
                } else {
                    backToTop.classList.remove('show');
                }
            });
            
            backToTop.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        }

        // Month navigation
        const currentMonthEl = document.getElementById('currentMonth');
        const prevMonthBtn = document.getElementById('prevMonth');
        const nextMonthBtn = document.getElementById('nextMonth');
        
        if (prevMonthBtn) {
            prevMonthBtn.addEventListener('click', () => {
                currentMonthEl.textContent = 'January 2026';
            });
        }
        
        if (nextMonthBtn) {
            nextMonthBtn.addEventListener('click', () => {
                currentMonthEl.textContent = 'March 2026';
            });
        }

        // Quick Reply Buttons
        const quickBtns = document.querySelectorAll('.quick-btn');
        const chatInput = document.getElementById('chatInput');
        const sendBtn = document.getElementById('sendMessage');
        const chatMessagesContainer = document.getElementById('chatMessages');

        function addMessage(message, isUser = true) {
            if (!chatMessagesContainer) return;
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user' : 'bot'}`;
            
            const bubble = document.createElement('div');
            bubble.className = 'bubble';
            
            if (!isUser) {
                bubble.innerHTML = `<span class="bot-avatar-small">ü§ñ</span> ${message}`;
            } else {
                bubble.textContent = message;
            }
            
            const time = document.createElement('span');
            time.className = 'time';
            time.textContent = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            
            messageDiv.appendChild(bubble);
            messageDiv.appendChild(time);
            chatMessagesContainer.appendChild(messageDiv);
            chatMessagesContainer.scrollTop = chatMessagesContainer.scrollHeight;
        }

        function sendUserMessage() {
            if (!chatInput || !chatMessagesContainer) return;
            
            const message = chatInput.value.trim();
            if (message === '') return;
            
            addMessage(message, true);
            chatInput.value = '';
            
            setTimeout(() => {
                let response = '';
                const lowerMsg = message.toLowerCase();
                
                if (lowerMsg.includes('attendance')) {
                    response = 'üìä Your overall attendance is **85%**. You need 75% to be eligible. You have **2 more classes** you can miss this semester.';
                } else if (lowerMsg.includes('data structures') || lowerMsg.includes('ds')) {
                    response = '‚ö†Ô∏è Your attendance in Data Structures is **67%**. You need **2 more classes** to reach 75%. I recommend attending the next 2 classes without fail.';
                } else if (lowerMsg.includes('leave')) {
                    response = 'üìù You can apply for leave through the "Apply for Leave" button. Maximum 3 leaves per semester. You have **2 leaves** remaining.';
                } else {
                    response = 'üëã I can help you with attendance details, subject-wise percentages, or leave applications. What would you like to know?';
                }
                
                addMessage(response, false);
            }, 1000);
        }

        if (sendBtn) {
            sendBtn.addEventListener('click', sendUserMessage);
        }
        
        if (chatInput) {
            chatInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') sendUserMessage();
            });
        }
        
        if (quickBtns) {
            quickBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const query = this.getAttribute('data-query');
                    if (query === 'attendance') chatInput.value = 'What is my overall attendance?';
                    if (query === 'data-structures') chatInput.value = 'Show me Data Structures attendance';
                    if (query === 'leave') chatInput.value = 'How to apply for leave?';
                    sendUserMessage();
                });
            });
        }
    </script>
</body>
</html>